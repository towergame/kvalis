@using Kvalis.Services
@inject KeyService keyService
@inject ILogger<Routes> Logger
@rendermode InteractiveServer

<Router AppAssembly="typeof(Program).Assembly">
    <Found Context="routeData">
        <RouteView RouteData="routeData" DefaultLayout="typeof(Layout.MainLayout)"/>
        <FocusOnNavigate RouteData="routeData" Selector="h1"/>
    </Found>
</Router>


@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        // Logger.LogInformation("WOW WE ARE CHECKING!!!");
        await keyService.CheckForKeypair();
    }
}